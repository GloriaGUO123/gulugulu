<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Effect Example</title>
    <style>
        body {
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', Courier, monospace; /* Typewriter-style font */
        }

        .type-writer-container {
            display: flex;
            height: 760px;
            justify-content: center;
            align-items: center;
            text-align: center;
            border: 2px solid #333;
            padding: 20px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .typed-out {
            overflow: hidden;
            white-space: nowrap;
            display: inline-block; /* Allow caret positioning */
            position: relative;
        }

        .caret {
            position: absolute;
            right: 0;
            width: 2px;
            height: 1.2em; /* Adjust height for better visibility */
            background-color: black; /* Dark color for visibility */
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { background-color: transparent }
            50% { background-color: black; }
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        .typed-out h1 {
            font-size: 3.5vw;
            font-weight: 600;
            letter-spacing: -.02em;
            line-height: 1.3;
            margin: 0;
            color: #333; /* Dark text for contrast */
        }

        .highlight-text {
            box-shadow: 0 5px 15px #19191966, 0 var(--spacing-small) 30px #c198ff33;
            transform: translateY(-2px);
            border-radius: 5px;
            padding: 5px;
            font-size: 5.5vw;
            color: #c198ff; /* Highlight color */
        }
    </style>
</head>
<body>
    <div class="type-writer-container">
        <div class="typed-out">
            <h1></h1>
            <div class="caret"></div>
        </div>
    </div>

    <script>
        const textArray = [
            "I'm Gloria Guo who's a",
            "COMPUTER SCIENCE STUDENT",
            "and",
            "LIKES TO SKI",
            "Hope you enjoy this website!"
        ];

        const highlightArray = [
            false,
            true,
            false,
            true,
            false
        ];

        const typedOutElement = document.querySelector('.typed-out h1');
        const caretElement = document.querySelector('.caret');

        let currentTextIndex = 0;
        let currentCharIndex = 0;

        function type() {
            if (currentTextIndex < textArray.length) {
                const currentText = textArray[currentTextIndex];
                const isHighlighted = highlightArray[currentTextIndex];

                // Create a span for the current character
                const span = document.createElement('span');
                span.innerHTML = currentText.charAt(currentCharIndex);
                if (isHighlighted) {
                    span.classList.add('highlight-text');
                }
                typedOutElement.appendChild(span);

                currentCharIndex++;

                // Update the position of the caret
                caretElement.style.left = `${typedOutElement.offsetWidth}px`;

                if (currentCharIndex > currentText.length) {
                    currentTextIndex++;
                    currentCharIndex = 0;

                    // Add a line break before typing the next sentence
                    if (currentTextIndex < textArray.length) {
                        typedOutElement.innerHTML += '<br>'; // Line break
                    }

                    setTimeout(type, 1000); // pause before next text
                } else {
                    setTimeout(type, Math.random() * (200 - 50) + 50); // random typing speed
                }
            }
        }

        type();
    </script>
</body>
</html>